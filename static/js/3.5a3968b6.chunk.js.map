{"version":3,"sources":["@aui/app/plugins/nodeGroups/NodeGroups.tsx","@aui/assets/nodejs.png"],"names":["useStyles","makeStyles","lastRunText","marginTop","NodeGroups","props","eventMessage","classes","useState","isSaving","setIsSaving","onEventComplete","data","setData","useEffect","console","log","event","eventId","setTimeout","plugin","eventName","a","fetch","method","response","status","json","fetchNodeGroups","columns","useMemo","Header","accessor","Cell","value","cell","kind","type","text","time","lastRun","className","icon","nodeJs","title","tableTitle","addNewButtonText","module","exports"],"mappings":"2PASMA,EAAYC,YAAW,CACzBC,YAAa,CACXC,UAAW,UASXC,EAAwC,SAACC,GAAW,IAC9CC,EAAiBD,EAAjBC,aACFC,EAAUP,EAAU,IAF2B,EAGrBQ,oBAAS,GAHY,mBAG9CC,EAH8C,KAGpCC,EAHoC,KAI7CC,EAAoBN,EAApBM,gBAJ6C,EAK7BH,mBAAS,IALoB,mBAK9CI,EAL8C,KAKxCC,EALwC,KAOrDC,qBAAU,WACNC,QAAQC,IAAI,oBAAqBX,GAE9BC,GAAgBA,EAAaW,MAAMC,UAClCR,GAAY,GACZS,YAAW,WACJR,IACCD,GAAY,GACZC,EAAgB,CAACS,OAAQ,GAAIH,MAAO,CAACC,QAASZ,EAAaW,MAAOI,UAAW,iBAAkBT,KAAM,QAE1G,QAGR,CAACN,EAAcK,EAAiBN,IAEnCS,qBAAU,WAAM,4CAEZ,4BAAAQ,EAAA,sEAC2BC,MAAM,+DAAgE,CACzFC,OAAQ,QAFhB,YACUC,EADV,SAIuC,MAApBA,EAASC,OAJ5B,4BAKQb,EALR,SAKsBY,EAASE,OAL/B,8EAFY,uBAAC,WAAD,wBAWZC,KAED,IAEH,IAAMC,EAA8BC,mBAAQ,iBAAM,CAC9C,CACAC,OAAQ,OACRC,SAAU,OACVC,KAAM,gBAAUC,EAAV,EAAGC,KAAOD,MAAV,OACF,oCACA,kBAAC,IAAD,CAAeE,KAAK,mBAAmBF,EAAMG,MAC7C,6BAAMH,EAAMI,SAGhB,CACAP,OAAQ,SACRC,SAAU,SACVC,KAAM,gBAAGE,EAAH,EAAGA,KAAH,OACF,kBAAC,IAAD,CAAeC,KAAK,eACpB,kBAAC,IAAD,CAAYV,OAAQS,EAAKD,WAG7B,CACAH,OAAQ,WACRC,SAAU,WACVC,KAAM,gBAASC,EAAT,EAAEC,KAAOD,MAAT,OACF,oCACA,kBAAC,IAAD,CAAeE,KAAK,eAAeF,EAAMK,MAErCL,EAAMM,SACN,kBAAC,IAAD,CAAeJ,KAAK,kBAAkBK,UAAWlC,EAAQL,aAAzD,eAAmFgC,EAAMM,YAIjG,CACAR,SAAU,iBAEX,CAACzB,IAIJ,OACI,oCACKE,GAAY,yEACb,kBAAC,IAAD,CACIiC,KAAMC,IACNC,MAAO,aACPC,WAAY,qBACZC,iBAAkB,sBAClBjB,QAASA,EACTjB,KAAMA,MAMP,WAACP,GAAD,OAA4B,kBAAC,EAAeA,K,kBC7G3D0C,EAAOC,QAAU","file":"static/js/3.5a3968b6.chunk.js","sourcesContent":["import React, { useMemo, useEffect, useState } from 'react';\nimport nodeJs from '@aui/assets/nodejs.png'\nimport { AUITypography } from '@aui/util'\nimport { StatusText } from '@aui/common';\nimport { Column } from 'react-table'\nimport { AccordionTable } from '@aui/common'\nimport { t } from '@lingui/macro'\nimport { makeStyles } from '@material-ui/core'\n\nconst useStyles = makeStyles({\n    lastRunText: {\n      marginTop: '10px'\n    }\n  })\n\ninterface NodeGroupsProps{\n    eventMessage: any\n    onEventComplete: (param: any) => void\n}\n\nconst NodeGroups: React.FC<NodeGroupsProps> = (props) => {\n    const { eventMessage } = props\n    const classes = useStyles({})\n    const [isSaving, setIsSaving] = useState(false)\n    const { onEventComplete } = props\n    const [data, setData] = useState([])\n\n    useEffect(() => {\n        console.log('nodeGroups called', props)\n        \n        if(eventMessage && eventMessage.event.eventId){\n            setIsSaving(true)\n            setTimeout(() => {\n                if(onEventComplete){\n                    setIsSaving(false)\n                    onEventComplete({plugin: {}, event: {eventId: eventMessage.event, eventName: 'SAVE_COMPLETE'}, data: {}})\n                }\n            }, 8000)\n            \n        }\n    }, [eventMessage, onEventComplete, props])\n\n    useEffect(() => {\n\n        async function fetchNodeGroups(){\n            const response = await fetch('https://my-json-server.typicode.com/ag13/react-ui/nodeGroups', {\n                method: 'GET'\n            })\n            if(response && response.status === 200){\n                setData(await response.json())\n            }\n        }\n\n        fetchNodeGroups()\n        \n    }, [])\n    \n    const columns: Array<Column<any>> = useMemo(() => [\n        {\n        Header: 'Name',\n        accessor: 'name',\n        Cell: ({ cell: {value} }) => \n            <>\n            <AUITypography kind=\"sectionSubtitle\">{value.type}</AUITypography>\n            <div>{value.text}</div>\n            </>\n        },\n        {\n        Header: 'Status',\n        accessor: 'status',\n        Cell: ({ cell }) => \n            <AUITypography kind=\"sectionText\">\n            <StatusText status={cell.value} />\n            </AUITypography>\n        },\n        {\n        Header: 'Interval',\n        accessor: 'interval',\n        Cell: ({cell: {value}}) =>\n            <>\n            <AUITypography kind=\"sectionText\">{value.time}</AUITypography>\n            {\n                value.lastRun &&\n                <AUITypography kind=\"sectionTextGray\" className={classes.lastRunText}>Last run on {value.lastRun}</AUITypography>\n            }\n            </>\n        },\n        {\n        accessor: 'nextAction'\n        }\n    ], [classes])\n\n    //TODO add correct type\n    \n    return (\n        <>\n            {isSaving && <div>Node Groups Table data is being saved...</div>}\n            <AccordionTable \n                icon={nodeJs} \n                title={t`Nodes`} \n                tableTitle={t`Node Group(s)`}\n                addNewButtonText={t`Add Node Group`}\n                columns={columns}\n                data={data}\n            />\n        </>\n    )\n}\n\nexport default (props: NodeGroupsProps) => <NodeGroups {...props} />","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAR8AAACvCAMAAADzNCq+AAAA+VBMVEX///8zMzNon2M+hj0uLi5rv0dZWVlzqmMrKyt1rGRxqGF2rmN3sGNtpV94sWJhm1xbmFV5tGF3tl0jIyN3d3dmn1tkZGR1t1lyuVWpqamwy65jmlhwu1FVlE72+vaqx6e+07zs8+xOkEk5OTkfHx8XFxd/f38ODg5WmkxISEgxgTAAAAB+rHrJycnl5eWcnJxYoknv7++7u7tWmU13qHPc59vo6OhPT0/Z2dmWupOysrJYpUjj7OLN3syVlZVubm4lfCOOtouGtn6HvXyZwI6wz6dop1LK38Sbx4yCwGu12alfuzSe0YxlvT6BrndTkE9UqEBFjz9ClzTcvb9iAAANQ0lEQVR4nO2da2OayhaGUUxqL27otqYNCYhGcjEmjVEaTbSp+9Ketrsnyfn/P+YAwwBzZYFmawLvhzaJMuDDmndua1BRnrbOT67O1n0Nm6x39ZqzPVn3VWyu3tUrldrRu0/rvo5Nlc+nUqk7n9d9IRsqxKdSaTZ3130pGynMp1LpHZRGzSrmUymNmqMEn8Coh+u+oA0Twac0akYUH9+oL9d9TZskhk+lclr6dCwOn/rtui9qg8ThU9te90VtkEo+cpV85Cr5yFXykavkI1fJR66Sj1wlH7lKPnKVfOQq+chV8pGr5CNXyUeuko9cJR+5Sj5ylXzkKvnIVfKRq+QjV8lHrpKPXCUfuUo+cq2Xz2T32vrXTpZLS/NZImFoeHvU7PVWk9fX+et1o72SkhTl7PAwStFYks9hzznImw/z+Sg490ry+v7++vrlS920ly9JOd926nVn+xz9thSf614zSMs7z3EZl/UmPp+zk6eAhL69ffv65YuXr/bMqrtcSd4dP6oFF3V0GNSMJficnfTCA8KyMmhy1UucsX50mPH4pNw/f//tjcfnxYvW3t5o0VmiKGW32YwuKqj5ufl8unVq8QfMlh3sGU+NPGezeZ3r8yiK9Z/3b9+GfF7t7e3po/w2FN1xJK/mTxg6QD6fHRJsFhehj0UFnOSyoR8f3v8e82ns+YR0O09Jyqcdh7prtV6PvVAIn+vIPOKjnB3YJoVL9thsBST07YOHJ8HHDyBPuWwobC7SlcpncsLD6rkIIPd1cuUITwwqIKHZ9/0P70k+DQSoldmGrpv8u5adD2sekVJdZPhOeCwqoA63IeufLR8PyedVKwTUymRDgjuehw/XPCL1TmQp+B97qSEMtqEfW1v7LJ9GGEAeIL01B9Ihmprl+FxWUsKw5ghT8C9rkBCuObcAG/q29Wt/n8sHB5AfQv+dQfDI73gWPjLziFR3PuY+FhWQakOz7z/96OHyiQLIA+TZUOrwTtRcZOeTZh6RmjVmyAE+FhUg9THrn5+/tsR84hrma2RI6ZD91KX4fMwQhvROoCzHBpL42I9fPp10PiGgVkNsQ9nuGhaXT6rxUGUkhxyXB1lDWGxD3/Z/bm3J+RA1rCWxIUBzwb00ls9kO5PD+6rjiYvz7MeiAjhbiTrfMR0ZnxYFqDWacmwo4x2PxfAZHub6hGjIMTnNRSco4Iq6EOPnr60MfDCeVqM1oivZObi5YETzOctqHlFBzq2i7OTG49kY6fPz/vEWiE+L5tNo9Mn+9Hke48Efi+QzPM3/Ab06lv9grx0ja9iie7efiU9UwxqtPtmOHea85b4oPtc5q2lYVP6DGT6D7p0J40MDaqh9crixTFRTfHaX4FM5WS0f8+4+G58wfsyi8DFNGB/KotWnyafW6zmy0jl87m6y8QlqmJmRT13qTln4eJ9QWpaUjzdWHw5lnbQmOZIL4ucOxoeoYWomPl7HS9qhgfPxnygwYWYlk5LwwXM9kk4+zWfk8TEvYHz0GFA3Cx+0miIbTYP5NCtB/+TsQDzGE/JJDtKFF8PwGY1iB0rjEwNSM/CJ5tHFszFAPol5jF1hHTlRDrinoOaaBZMMNJ/jkU/oAsgHA+rC+dSdxDqMaEIaxId8FMXwUFBH+HxqFWaS8DMvBik+fwR8RuZ+Jj66CuVTcw6JcdqQP68I4dO7ouYfvFEo5231Wy6fJmeK8SPnNAwfBOgYxsfU4/CB8Gmy68CTE04IAfhE81edhWaHP16yEVA7nfD41LmrpZwAYvkEhFAApfMJAKHwAfCp7fCu6oTzxlQ+0TvaulbVx+Fi0y1dVDDJxeHDX2zlvZHDxyd0nIGPGvIhx18cPvy7tp2LD0Jta1rVl44Wm+hHwaAJoFXyuTgOCd3D+HiAzPXxmerVUJrJ8IkmEB+Dz/EIxqdr4vBZCx8N86nqFsknkfPyKHyOb2Dx0/W0gXzCjuPq+USAunA+iNAG8SEXwFbLBxNSHzLw8QltDB/6GWar5hMQelDV/Sx8PEIbwodZuFohnz9vLkJCXoUJAuip8OmGfDgLn4/BJ3DcexgfdW18LNzAa9Vg9eTylPfwu0fg8xDweQDyUdfFR1FmA4+QFo0wPvEyN1bK5+YmCh9VvdlYPpUKfnFeNXlrk4/Hx9MD7vPtfwDxUWF8KnVOIvduvvFpLc7GTMtjWzkfHD6qegGLHygftm3hz/xB4geeFL5KPvc+HzUWMH5UIB+qb3IumDmGzR/WgUnhq+ZzkeBzDOSjmjA+RFKEMK0MOv8MSwpfNR9VpQIIwqdrAvlEYyNJPit8/QKSFL5SPvf3DwSfByAfL4CgfCoV52pyJstnzbD+Bdhaslo+ZPioKrB+eQ4E5+Mv6klfzrJ+mrq1ZLV8Hig+D0A+ahY+Kcq4vlyX73Bbrf+otL4C+YD9Z+V8UmwIzoe9ZIYPg8erYTA+6fMbj8dHakMcPqfc3NRD9jwUnx//4/D5CuPzxSaKul0iP6pOLnScQRL16o7Ihhg+tVNu/riisG0Gxcfq9zmAQHz6Gnmuy6P8fI6occgVKMFFZEM0H4deWYzFLFNTfBRr8IXlc5zOp/9lSp8LvJuJVo3N7j+EJWjybYjkw0mtT35+6kysUbkaS+htGp8vY84gUTR6SKHD/Q4MYFlcG0ryEWzNEJ6JZ+S2SleykZxP/06QQH+WPW29KdqsLe1QJgEwwXcS4wN9u0ZyzMxv6KZfKEK/SfiofVt8rozbHqS3F7jBjvkeH8ynJjEeUrENCQZ4nTFZybpiPn3GeAgJ8044Sr29QEtzyOYv5JNcEksVtiHhANi9I0Loq4DPA894SIF3TgBuL3Cf3SlxUMCn3kszHlKhDUkmCGyirefy6eqgDYSgfRjA2wuwIXp32wHUeKgz+TYknUBJ2tCI5WOm7PxKKNWGMnzrzrV8k6TXhFFhuNMDGw+p3WbzVHrTkjb05g3F5zhlWpyQfB9Y7eg2y+2Vbdfk7K4dfs77/JLhx7TNzPMuDqERGT/AnaexJBuY5VuOedct2uCd/yERuWVgG0ryGYF3LickShHNsOM8EnfXZnrn7zFkLVAl60Z8JFtOO64rqXWcipH7674Y0/cGqGv6arVZNSD06iXic/yXCIE71j1JfIlun2FbzQUiTH/5R/gso8CGugEfsfF0FnqQL6BpknaNsKGcT0zBSpj+kiUtL8Nr6xsvXjQa30TvaOtRNkWYLsBXNExImRaFaHKFenG8hdl/WZ4N9V9//Vv0Ms4kxQmlA0nzFgwTxPNZmXRZcXprsWVWM8OWGA/CMnajlFuJDZ3fOquzi7OzDX9AX5SGg/JMyN8EGhboWzyN0JZ1nEAfJOWk2VBRNK8SKeySPxZRs9B4tDH1vC0mqIoomdWAbOh5K4oRflOFbUinY6sYijxG3NUpsA0B26iC2pA1NRGd1AdFWgtsQwTHebudduQTlq2n95EjJfrW+E/W2Jh17OWfdLuZctONh1Q85Aj/MO6483lHGWecgnwacs3sneNwbK+Ng9/subKYGqZiDR7pEteq0HjAaxeBOsiG0MzQwFIWrmJaynPkM9ehxkPKHQch5P849neOml6LNn2Gzb7hfUwt17jT340UbNPyekN+/ASgnp0M/Ckzy/aP9CNm3lYGc6VrufKl+6cpDp/ObJZoiebtxdhv4caL9px4nx0dubC9fyy3uukTW3nE8ul09cBNfFltLZqG1jRdTzpMzEdpjw17kf7k1qcoDh9/ixri42rxjkfEyIzbOTt5pDt/ht7sS8YHd42QEKG4I2Dndq6nJBkf1MfRBm3DMNrTMappJh5GFJ6P/5IXL9GLVjsAhnuBheczjnrIWKgzGTpN4fkE4UMCWPi9SRv9XPJh+czjtq3k4/OhZ+MHg8E4/FPh+SyCABrYgmmdwvOZh1OpujaeGvMZjaLwfJRBnOHiDy60gZGcQi35KIvogWAhpuQIrOTjVbGBrpFjMC36Sr6ST/DbvD2o6noCE14DKvlEsmaubSyqeBkIvb3kQ8uyg6WgcDq26HyM6XTKrGoMqhG8ovMJGnX67XN/AIbmmYvOxw8VnV4z9qGU8RMgaPsoFtTbgwE8qnVF5+PqVcao7WACCA3Iis4HDS+0qoG3qMzsIElICycQC8+ng8enXu8w/Ldazh8m+j8zenknoFXOz0e2Y011jaIzKMenyf5zxxgHYy8NzXBME3NlJR8ky53bhtE2bGqJtBh8Eh2+UOLxF6HOgJ2+f4aa6XRyHYwPWit8jhk/lNAkaiI5cwbgE6Zowp638LRl4fRVnGPXTqwB8hWl+BYjSxzvPEFL7WgIIcllFqSIP2NFmwv0wQJFkyZ+s2EWcIsB3nkS/ife0V3YLSpGoqesiZolt8BbnKy2roU1h570we8o+hY521+iGE8FsYH3NplFMh6wCms8fLltAkPUwhXQeDhyF3pyx0rhjYdUB80URoMyI5wmM9vPfjQKU7g3B3lNvG+3NJ5INm7q23gwUT5bglBkOXhotu4L2jjhJis5tC+VFKpkGnjfbvFkjKvVxYYZz/8BgbFSXQmK13cAAAAASUVORK5CYII=\""],"sourceRoot":""}